<!DOCTYPE html>
<html>

<head>
    <base href="/grandma/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="manifest" href="manifest.webmanifest">
    <title>Grandmother always my VVIP!</title>

    <link rel="stylesheet" href="bulma.min.css">

    <script src="jquery.min.js"></script>

    <link rel="icon" href="fav-icon.png" type="image/png">

    <style type="text/css">
        body {
            background: #111;
        }

        #ytbWrap {
            width: 100vw;
            height: 100vh;
            position: absolute;
            left: 0;
            top: 0;
            display: none;
        }

        button {
            font-weight: bold;
            font-size: 48px !important;
        }
    </style>
</head>

<body>
    <section class="section">
        <div class="ytbList">
            <div class="column">
                <button id="btn0" data-val="Grandma" class="button is-fullwidth is-success is-large is-outlined">
                    (0) 已故 劉亞枝 三時繫念
                </button>
            </div>
            <div class="column">
                <button id="btn1" data-val="BaoEn" class="button is-fullwidth is-success is-large is-outlined">
                    (7) 报恩讲堂
                </button>
            </div>
            <div class="column">
                <button id="btn2" data-val="SmartTube" class="button is-fullwidth is-success is-large is-outlined">
                    更新 Smart Tube
                </button>
            </div>
        </div>
        <div class="columns">
            <h1 class="msg"></h1>
        </div>
    </section>
</body>
<script type="text/javascript">
    'use strict';

    const ytbList = {
        "BaoEn": "https://www.youtube.com/channel/UCJZyCP9RSE8bLJ1n4lqa1DQ",
        "Grandma": "https://youtu.be/vecx8Mx_p6c",
        "SmartTube": "/grandma/SmartTube_stable_25.08_armeabi-v7a.apk"
    };
    // $.getJSON("grandmom.json", function (resp) { ytbList = resp; });

    document.onkeydown = function (e) {
        e = e || window.event;
        $(".msg").text(e.charCode + ',' + e.code + ',' + e.key);
        let ytb_tag = $("#btn" + e.code).data('val') || $("#btn" + e.key).data('val');
        if (ytbList[ytb_tag]) {
            window.location.href = ytbList[ytb_tag];
        }
    }

    $("button").bind("click", function (e) {
        let ytb_tag = $(this).data('val');
        window.location.href = ytbList[ytb_tag];
    });
</script>

</html>